## 卓越前线0.8.8开发文档

### （零）前言

**注意：**阅读本文需要**JSON**基础、充足的耐心和能够运转的大脑，此外**必须掌握**解压缩软件的使用，认识常见的压缩包种类。如果你不满足以上需求，请立刻关闭此文档。

卓越前线0.8.8版本大幅度修改了武器和载具机制，其中载具的绝大部分属性均可以使用数据包配置。

新版本的载具数据位置发生了更改，路径为data/superbwarfare/sbw/vehicles，与此对应的，载具资源的路径为assets/superbwarfare/sbw/vehicles。

如果你是**普通玩家**，并希望修改模组中武器或载具的数值，请阅读本文的（一）和（三）部分。

如果你是**附属模组作者**，请阅读本文的（二）、（三）和（四）部分。



### （一）数据包制作 & 使用教程

#### 所需工具

推荐使用：微软大战代码

WIP



### （二）附属模组制作教程

#### 所需工具

推荐使用：IntelliJ IDEA Community（当然有Ultimate也不是不行）

你是一个一个一个



### （三）数据文件

#### 基础知识

数据文件分为武器和载具数据两个部分，武器数据位于data/superbwarfare/sbw/guns，载具数据位于data/superbwarfare/sbw/vehicles。

其中所有字段均区分大小写，在JSON文件中要用英文双引号括起来，数字不需要。

所有时间单位默认情况下都是**刻(tick)**，1s=20tick。

简单数据类型（例如String，int，double等）的写法示例如下：

```json
"ID": "superbwarfare:aa_12",
"Damage": 114.5
```

复杂数据类型（数据本身是一个对象）的写法示例如下：

```json
"Projectile": {
    "Type": "minecraft:arrow",
    "Data": {
        "damage": ...
    }
}
```

JsonObject就是正常的JSON对象。

本文对于复杂数据类型的属性会有特殊标注。

------

此外，卓越前线提供了一些特殊的数据类型。

**StringToObject\<?\>**：? 代表一个被包装的类型，对于这种类型的数据，既可以使用该类型的正常表示方式，也可以选择预设的简写表示方式。

例如后文提到的StringToObject\<ProjectileInfo\>属性，其中Type是简写字段，那么可以表示成

```json
"Projectile": {
    "Type": "superbwarfare:projectile"
}
// 或者
"Projectile": "superbwarfare:projectile"
```

**ObjectToList\<?\>**：同上，此类型可以写入单个数据，也可以写入一个列表。

```json
// 单个数据
"AmmoType": "FE"
// 多个数据
"AmmoType": [
    "FE",
    "@RifleAmmo"
]
```

**StringOrVec3**：既可以填入一个字符串，也可以按照Vec3的方式，填入一个数组。

```json
// 使用预设字段
"SeekDirection": "Default"

// 使用向量
"SeekDirection": [1, 1, 4]
```

#### 武器数据

所有字段都在

```java
com/atsuishio/superbwarfare/data/gun/DefaultGunData.java
```

这个类中。



##### 基础数据

|       数据名       |  类型  |                             说明                             | 默认值 |         示例          |
| :----------------: | :----: | :----------------------------------------------------------: | :----: | :-------------------: |
|         ID         | String | 指定本文件要修改的武器，留空或不写会默认尝试使用文件名作为武器ID |   ""   | "superbwarfare:aa_12" |
|   MaxDurability    |  int   | 武器的最大耐久，不写默认无法破坏<br />不要在1.20.1版本尝试动态修改此数据 |   0    |          114          |
| DurabilityPerShoot |  int   |    每次开火消耗的耐久，如果上面那个是0，这个属性就不生效     |   1    |          514          |
|     MaxEnergy      |  int   |                        武器的最大能量                        |   0    |         1919          |
|  MaxReceiveEnergy  |  int   |              武器单次最大充入能量（一般用不到）              |   -1   |          810          |
|  MaxExtractEnergy  |  int   |              武器单次最大抽出能量（一般用不到）              |   -1   |          893          |
|       Spread       | double |                         武器子弹散布                         |   0    |           -           |
|   ZoomSpreadRate   | double |                       瞄准时的散布比例                       |  0.1   |           -           |
|       Damage       | double |                        武器的基础伤害                        |   0    |           -           |
|      Headshot      | double |                        武器的爆头倍率                        |  1.5   |           -           |
|      Velocity      | double |               武器发射子弹的初速度，单位m/tick               |   0    |           -           |
|   BypassesArmor    | double | 武器的穿甲比例（不是百分比）<br />0.46代表46%穿甲，可以超过100% |   0    |          0.2          |
|  ExplosionDamage   | double |             爆炸伤害（仅在发射物是爆炸物时生效）             |   0    |           -           |
|  ExplosionRadius   | double |         爆炸半径，单位米（仅在发射物是爆炸物时生效）         |   0    |           -           |
|      Gravity       | double |                      发射物的重力加速度                      |  0.05  |           -           |
|        RPM         |  int   |                          每分钟射速                          |  600   |           -           |
|      Magazine      |  int   | 弹匣容量，**不写**或填入小于等于0的数字时默认使用背包弹药，而不是弹匣弹药 |   0    |           -           |
|    BurstAmount     |  int   |         武器使用Burst开火模式时，每次连发的射击次数          |   0    |           3           |
|   BurstCooldown    |  int   | 武器使用Burst开火模式时，每两次连发的之间的间隔时间（单位大约是毫秒） |   30   |           -           |
|       Range        |  int   |               武器射程，目前仅用于激光类型武器               |  128   |           -           |
|  AmmoCostPerShoot  |  int   |                    每次射击消耗的弹药数量                    |   1    |           -           |
|  ProjectileAmount  |  int   |       每次射击发射的弹药数量，大于1默认使用霰弹枪准星        |   1    |          12           |
|       Weight       |  int   |         武器的重量，影响移动速度、拔枪速度和跑射延迟         |   1    |           -           |
|     ShootDelay     |  int   |                开火前的延迟（单位大约是毫秒）                |   0    |           -           |

------

##### 后坐力

|   数据名    |  类型  |                             说明                             | 默认值 |  示例   |
| :---------: | :----: | :----------------------------------------------------------: | :----: | :-----: |
|   RecoilX   | double |                        水平方向后坐力                        |   0    | 0.0114  |
|   RecoilY   | double |                        竖直方向后坐力                        |   0    | 0.0514  |
|   Recoil    | double |                   真实后坐力，能够推动玩家                   |   0    |   0.5   |
| RecoilTime  |  int   |                后坐力持续时长，仅用于载具武器                |   0    |    -    |
| RecoilForce | float  |               真实后坐力的力度，仅用于载具武器               |   0    |    -    |
| ShootShake  |  Vec3  | 开火时周围玩家屏幕的振动幅度，格式为[x, y, z]，x：范围，y：振动时长，z：振幅 |  null  | [5,6,9] |

------

##### 缩放

|   数据名    |  类型  |              说明              | 默认值 | 示例 |
| :---------: | :----: | :----------------------------: | :----: | :--: |
| DefaultZoom | double |     武器的默认瞄准放大倍率     |  1.25  |  5   |
|   MinZoom   | double | 最小放大倍率，留空等于默认倍率 |   -    | 1.5  |
|   MaxZoom   | double | 最大放大倍率，留空等于默认倍率 |   -    |  8   |

------

##### 近战

|     数据名      |  类型  |                    说明                    | 默认值 | 示例 |
| :-------------: | :----: | :----------------------------------------: | :----: | :--: |
|   MeleeDamage   | double |     武器的近战伤害，不写就不能近战攻击     |   0    |  10  |
|  MeleeDuration  |  int   |           整个攻击动作的持续时间           |   16   |  -   |
| MeleeDamageTime |  int   | 开始近战攻击后，在第几个tick后造成近战伤害 |   6    |  -   |

------

##### 子弹

属于复杂数据类型。

|   数据名   |               类型               |         说明         |           默认值           | 示例 |
| :--------: | :------------------------------: | :------------------: | :------------------------: | :--: |
| Projectile | StringToObject\<ProjectileInfo\> | 要发射的实体的注册名 | "superbwarfare:projectile" | 见下 |

```json
"Projectile": {
  "Type": "minecraft:arrow",
  "Data": {
    "damage": "@sbw:damage",
    "pickup": 2,
    "crit": false
  }
}
```

ProjectileInfo的属性如下：

| 数据名 |    类型    |                         说明                          |           默认值           | 示例 |
| :----: | :--------: | :---------------------------------------------------: | :------------------------: | :--: |
|  Type  |   String   | 要发射的实体的注册名，如果填写**"ray"**会变成激光武器 | "superbwarfare:projectile" |  -   |
|  Data  | JsonObject |                       实体的NBT                       |            null            |  -   |

其中Type是预设的简写字段。

模组保留了几个会自动替换属性的字段，例如示例的damage部分使用了@sbw:damage，会自动将该投射物的NBT替换为武器伤害，所有可用字段分别为：

|         数据名          |  类型  |           说明           |
| :---------------------: | :----: | :----------------------: |
|       @sbw:owner        |  UUID  | 将数据替换成发射者的UUID |
| @sbw:owner_string_lower | String |  全小写形式的UUID字符串  |
| @sbw:owner_string_upper | String |  全大写形式的UUID字符串  |
|       @sbw:damage       | double |   替换成武器的伤害数值   |
|  @sbw:explosion_radius  | double | 替换成武器的爆炸半径数值 |
|       @sbw:spread       | double |   替换成武器的扩散数值   |

------

##### 开火模式

|       数据名       |                      类型                      |                             说明                             |  默认值  | 示例 |
| :----------------: | :--------------------------------------------: | :----------------------------------------------------------: | :------: | :--: |
|  DefaultFireMode   |                     String                     | 武器默认的开火模式，默认提供以下三种，选一个填写<br/>"Semi", "Burst", "Auto" | ["Semi"] |  -   |
| AvailableFireModes | ObjectToList\<StringToObject\<FireModeInfo\>\> |                    武器可用的全部开火模式                    |  "Semi"  | 见下 |

FireModeInfo属于复杂数据类型，属性如下：

|  数据名  |    类型    |                             说明                             | 默认值 |  示例  |
| :------: | :--------: | :----------------------------------------------------------: | :----: | :----: |
|   Mode   |    Enum    | 自带的开火模式枚举常量，只有以下三种："Semi", "Burst", "Auto" | "Semi" |   -    |
|   Name   |   String   | 开火模式的名称，DefaultFireMode可以通过这个名称来寻找开火模式 | "Semi" | "Hold" |
| Override | JsonObject |                    用于覆写基类的某些属性                    |  null  |  见下  |

其中Mode和Name是预设的简写字段。

一个AvailableFireModes的示例如下：

```json
// 常规武器
"AvailableFireModes": ["Semi", "Auto"]

// 进行属性覆写
"AvailableFireModes": [
    "Auto",
    {
      "Mode": "Semi",
      "Name": "Semi",
      "Override": {
        "RecoilX": 0.004,
        "RecoilY": 0.009,
        "Spread": 6,
        "Damage": 200,
        "SoundRadius": 12,
        "Headshot": 2.5,
        "Velocity": 51,
        "BypassesArmor": 0.7,
        "HeatPerShoot": 5,
        "RPM": 300,
        "AmmoCostPerShoot": 1000
      }
    }
],
"Damage": 10
```

对于具有属性覆写的开火模式，武器在切换到此模式时，数据会发生相应的变化。上述写法的武器伤害会在开火模式为"Auto"的时候设置为10，而在切换到"Semi"时被设置为200。

------

##### 弹药类型

属于复杂数据类型。

|  数据名  |                      类型                      |           说明           | 默认值 | 示例 |
| :------: | :--------------------------------------------: | :----------------------: | :----: | :--: |
| AmmoType | ObjectToList\<StringToObject\<AmmoConsumer\>\> | 武器开火所需要消耗的弹药 |   []   | 见下 |

AmmoConsumer的属性如下：

|    数据名    |               类型               |                             说明                             |                            默认值                            |     示例     |
| :----------: | :------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: | :----------: |
|     Ammo     |              String              |                       弹药类型的标识符                       |                             null                             | "@RifleAmmo" |
|   AmmoSlot   |              String              | 弹药槽位，在两个具有**相同槽位**的弹药类型之间切换时，默认会卸载弹药<br />如果填写"Melee"，则不会触发卸载弹药，且武器变为纯近战模式 |                          "Default"                           |      -       |
|  Projectile  | StringToObject\<ProjectileInfo\> |                       发射的投射物信息                       |                             null                             |     见下     |
|     Icon     |              String              |                该弹药类型的图标，用于载具武器                | "superbwarfare:textures/<br />overlay/vehicle/weapon/icons/empty.png" |      -       |
| ShouldUnload |             boolean              |      从其他弹药类型**切换到**该类型时，是否需要卸载弹药      |                             true                             |    false     |
|   Override   |            JsonObject            |                    用于覆写基类的某些属性                    |                             null                             |     见下     |

其中Ammo是预设的简写字段。

AmmoType有多种写法，这里简写的方法对应了其Ammo属性，示例如下：

```json
// 1.使用物品注册名
"AmmoType": "minecraft:arrow"

// 2.使用物品标签，以"#"开头
"AmmoType": "#minecraft:logs"

// 3.使用基础弹药类型，以"@"开头，一共有@HandgunAmmo, @RifleAmmo, @ShotgunAmmo, @SniperAmmo, @HeavyAmmo五种类型
"AmmoType": "@RifleAmmo"

// 4.使用其他预制类型
// "empty"对应空类型
// "infinity", "infinite"对应无限弹药
// "fe", "rf", "energy"对应使用能量作为弹药
"AmmoType": "empty"
```

对于多种AmmoType，或者复杂的写法，一个示例如下：

```json
"AmmoType": [
    "superbwarfare:grenade_40mm",
    {
      "Ammo": "@ShotgunAmmo",
      "AmmoSlot": "Default",
      "Projectile": "superbwarfare:projectile",
      "Override": {
        "Damage": 10,
        "Headshot": 1.75,
        "BypassesArmor": 0.2,
        "ExplosionDamage": 0,
        "ProjectileAmount": 6,
        "Velocity": 10,
        "RecoilX": 0.006,
        "RecoilY": 0.018,
        "Crosshair": "@GunDefault"
      }
    },
    {
      "AmmoSlot": "Melee",
      "Override": {
        "ProjectileAmount": 0,
        "MeleeDuration": 15,
        "Crosshair": "@GunDefault"
      }
    }
]
```

上述写法标明该武器具有3种弹药类型，第一种消耗榴弹，第二种是消耗霰弹枪弹药，发射物更改为子弹，第三种是纯近战模式，且使用了属性覆写覆盖了发射物的数量。

------

##### 热量

|       数据名        |  类型  |            说明            | 默认值 | 示例 |
| :-----------------: | :----: | :------------------------: | :----: | :--: |
|    HeatPerShoot     | double |   武器每次开火产生的热量   |   0    |  -   |
|   NaturalCooldown   | double | 自然情况下每tick减少的热量 |  0.25  |  -   |
| InWaterCooldownRate | double |  在水中或雨中时的散热比例  |  1.1   |  -   |
| InSnowCooldownRate  | double |    在细雪中时的散热比例    |  1.5   |  -   |
| InFireCooldownRate  | double |    在火焰中时的散热比例    |  0.6   |  -   |
| InLavaCooldownRate  | double |    在熔岩中时的散热比例    |  0.2   |  -   |

武器每tick散热量会根据玩家所处环境，乘对应的比例。

------

##### 换弹

该部分非常抽象，但好在载具武器并没有使用那么多属性。

首先是换弹类型：

|   数据名    |       类型        |        说明        |    默认值    |           示例            |
| :---------: | :---------------: | :----------------: | :----------: | :-----------------------: |
| ReloadTypes | Set\<ReloadType\> | 所有可用的换弹类型 | ["Magazine"] | ["Magazine", "Iterative"] |

换弹类型可以从"Magazine", "Clip"和"Iterative"中任选，对应弹匣换弹，弹夹换弹，逐发装填换弹。

然后是换弹相关的属性：

|        数据名         |  类型   |                             说明                             | 默认值 | 示例 |
| :-------------------: | :-----: | :----------------------------------------------------------: | :----: | :--: |
|   NormalReloadTime    |   int   |                武器正常的换弹时间，单位是tick                |   0    |  -   |
|    EmptyReloadTime    |   int   |                      武器空仓换弹的时间                      |   0    |  59  |
|    BoltActionTime     |   int   |                     栓动武器拉栓所需时间                     |   0    |  22  |
|      PrepareTime      |   int   |                  仓内有弹时，准备换弹的时长                  |   0    |  29  |
|    PrepareLoadTime    |   int   | 仓内无弹时，需要在准备阶段往弹仓里塞一发子弹,准备换弹的时长<br />（适用于在准备换弹期间，就往弹仓里塞一发子弹的武器，如M870和二次灾变） |   0    |  -   |
|   PrepareEmptyTime    |   int   | 仓内无弹时，不需要在准备阶段往弹仓里塞一发子弹，准备换弹的时长 |   0    |  -   |
|  PrepareAmmoLoadTime  |   int   | 在准备阶段需要上弹，距离准备阶段结束还剩多久时，往弹仓里装填一发子弹 |   1    |  -   |
|     IterativeTime     |   int   |                      每次单发装填的时间                      |   0    |  -   |
| IterativeAmmoLoadTime |   int   | 若武器的换弹类型是Iterative，上弹计时还剩余此tick时，往弹仓里装填一发子弹 |   1    |  -   |
|  IterativeLoadAmount  |   int   |     若武器的换弹类型是Iterative，每次单发装填的上弹数量      |   1    |  -   |
|      FinishTime       |   int   |                      换弹结束阶段的时长                      |   0    |  -   |
|      AutoReload       | boolean |                       是否能够自动换弹                       | false  |  -   |
|      ZoomReload       | boolean |                      是否能在瞄准时换弹                      |  true  |  -   |

------

##### 可用模组

|     数据名     |          类型          |        说明        | 默认值 | 示例 |
| :------------: | :--------------------: | :----------------: | :----: | :--: |
| AvailablePerks | ObjectToList\<String\> | 可用的武器模组列表 |  见下  |  -   |

默认值如下：

```json
"AvailablePerks": [
    "@Ammo",
    "superbwarfare:field_doctor",
    "superbwarfare:powerful_attraction",
    "superbwarfare:intelligent_chip",
    "superbwarfare:monster_hunter",
    "superbwarfare:vorpal_weapon",
    "!superbwarfare:micro_missile",
    "!superbwarfare:longer_wire",
    "!superbwarfare:cupid_arrow"
]
```

可以填入以下类型：

- 以 @ 开头，加上Ammo, Functional, Damage，表示可以使用该类型的全部模组
- 模组注册名，表示可用该模组
- 以英文感叹号 ! 开头，加上模组注册名，表示不可用该模组

模组是否可用的关系受先后顺序影响，务必将@放在最前面，!放在最后面。

------

##### 伤害衰减

属于复杂数据类型，这东西我不建议你写，用预制的得了。

|    数据名    |     类型     |                        说明                        | 默认值 | 示例 |
| :----------: | :----------: | :------------------------------------------------: | :----: | :--: |
| DamageReduce | DamageReduce | 武器子弹距离衰减类型，不需要距离衰减的武器可以不写 |  见下  |  -   |

DamageReduce的属性如下：

|   数据名    |    类型    |                            说明                            | 默认值 | 示例 |
| :---------: | :--------: | :--------------------------------------------------------: | :----: | :--: |
|    Type     | ReduceType |              预设衰减类型，会覆盖下面两个属性              |  null  |  -   |
|    Rate     |   double   |                武器子弹伤害随距离衰减的比率                |   0    | 0.05 |
| MinDistance |   double   | 武器子弹伤害的最小衰减距离，超过这个距离的子弹开始降低伤害 |   0    |  15  |

武器伤害衰减公式：

```
最终伤害 = 原伤害 / (1 + Rate * max(0, 当前距离 - MinDistance))
```

预设的衰减类型有：

|  Name   |  Rate  | MinDistance |
| :-----: | :----: | :---------: |
| Shotgun |  0.05  |     15      |
| Sniper  | 0.001  |     150     |
|  Heavy  | 0.0007 |     250     |
| Handgun |  0.03  |     40      |
|  Rifle  | 0.007  |     100     |
|   Smg   |  0.02  |     50      |
|  Empty  |   0    |      0      |

因此可以写成：

```json
//  使用预设
"DamageReduce": {
    "Type": "Handgun"
}

// 不使用预设
"DamageReduce": {
    "Rate": 0.114,
    "MinDistance": 514
}
```

------

##### 显示效果

不要问为什么这个东西不在客户端资源那里，现在的Override写法只支持把这个东西扔到Data里面。

|      数据名      |   类型   |               说明                |                          默认值                          |    示例    |
| :--------------: | :------: | :-------------------------------: | :------------------------------------------------------: | :--------: |
|       Icon       |  String  |     武器图标，就是右下角那个      | "superbwarfare:textures/<br />gun_icon/default_icon.png" |     -      |
|    Crosshair     |  String  |           腰射时的准星            |                      "@GunDefault"                       |     -      |
| CrosshairZooming |  String  |           瞄准时的准星            |                         "@Empty"                         |     -      |
|  CrosshairColor  | ModColor | 准星颜色，格式是RGB，用于载具武器 |                            -                             | "0xFFFFFF" |
|       Name       |  String  |    武器的显示名，用于载具武器     |                           null                           |     -      |

其中Crosshair和CrosshairZooming提供了部分预设值，例如：

- @Empty 什么也没有
- @GunDefault 默认枪械准星
- @VehicleDefault 默认载具准星，更多的载具准星见后文
- @Custom 自定义，需要自己使用代码渲染

实际上这里也可以写入一个ResourceLocation，也就是准星图片的路径，但目前只对载具准星有效。

ModColor是一个颜色属性，可以写入多种形式：

```json
// 可以传入字符串，前缀可以是"#"，"0x"，甚至可以不写
"CrosshairColor": "#114514"
"CrosshairColor": "0x114514"
"CrosshairColor": "114514"

// 也可以不写字符串，直接传入int形式的数字
"CrosshairColor": 114514
```

------

##### 锁定机制

有一些枪械或载具武器可以进行目标锁定，首先是枪械的锁定：

|     数据名      |      类型      |          说明          | 默认值 | 示例 |
| :-------------: | :------------: | :--------------------: | :----: | :--: |
|    SeekType     |      Enum      | 在什么情况下会进行锁定 | "None" |  -   |
|    SeekTime     |      int       |     锁定需要的时长     |   20   |  -   |
|    SeekAngle    |     double     |       锁定的角度       |   10   |  -   |
|    SeekRange    |     double     |       锁定的范围       |  384   |  -   |
| MinTargetHeight |     double     | 待锁定目标最小离地距离 |   0    |  -   |
| MaxTargetHeight |     double     | 待锁定目标最大离地距离 | 114514 |  -   |
| SeekWeaponInfo  | SeekWeaponInfo |  载具武器专用锁定数据  |  null  | 见下 |

其中SeekType可以从"None", "HoldFire"和"HoldZoom"三个中选择一个，分别对应不锁定、按住开火键时锁定和瞄准时锁定。

对于载具武器专属的SeekWeaponInfo，其属性如下：

|       数据名        |     类型     |               说明               |  默认值   | 示例 |
| :-----------------: | :----------: | :------------------------------: | :-------: | :--: |
|    SeekDirection    | StringOrVec3 |            锁定的方向            | "Default" |  -   |
|      SeekTime       |     int      |          锁定需要的时长          |    10     |  -   |
|      SeekAngle      |    double    |            锁定的角度            |    20     |  -   |
|      SeekRange      |    double    |            锁定的范围            |    384    |  -   |
|   MinTargetHeight   |    double    |      待锁定目标最小离地距离      |     0     |  -   |
|   MaxTargetHeight   |    double    |      待锁定目标最大离地距离      |  114514   |  -   |
|    MinTargetSize    |    double    |       待锁定目标的最小体积       |     0     |  -   |
| CalculateTrajectory |   boolean    | 是否会计算弹道，显示预判的瞄准框 |   false   |  -   |
|    OnlyLockBlock    |   boolean    |        是否只锁定方块坐标        |   false   |  -   |
|   OnlyLockEntity    |   boolean    |          是否只锁定实体          |   false   |  -   |

至于为什么SeekWeaponInfo会出现和上一级重复的数据，教程作者暂且蒙古。

不排除未来某一天发现“为什么要这么设计”然后清理这部分的可能性。

------

##### 音效

属于复杂数据类型。

|  数据名   |   类型    |        说明        | 默认值 | 示例 |
| :-------: | :-------: | :----------------: | :----: | :--: |
| SoundInfo | SoundInfo | 各种情况播放的音效 |   -    | 见下 |

SoundInfo的属性如下：

|         数据名         |          类型          |                   说明                   |             默认值              | 示例 |
| :--------------------: | :--------------------: | :--------------------------------------: | :-----------------------------: | :--: |
|         Fire1P         |       SoundEvent       |             第一人称开火音效             |              null               |  -   |
|         Fire3P         |       SoundEvent       |             第三人称开火音效             |              null               |  -   |
|       Fire3PFar        |       SoundEvent       |        第三人称开火音效（远距离）        |              null               |  -   |
|     Fire3PVeryFar      |       SoundEvent       |      第三人称开火音效（非常远距离）      |              null               |  -   |
|      Fire1PSilent      |       SoundEvent       |       装有消音器的第一人称开火音效       |              null               |  -   |
|      Fire3PSilent      |       SoundEvent       |       装有消音器的第三人称开火音效       |              null               |  -   |
|    Fire3PFarSilent     |       SoundEvent       |  装有消音器的第三人称开火音效（远距离）  |              null               |  -   |
|  Fire3PVeryFarSilent   |       SoundEvent       | 装有消音器的第三人称开火音效非常远距离） |              null               |  -   |
|      ReloadNormal      |       SoundEvent       |              正常换弹的音效              |              null               |  -   |
|      ReloadEmpty       |       SoundEvent       |              空仓换弹的音效              |              null               |  -   |
|     VehicleReload      |       SoundEvent       |              载具换弹的音效              |              null               |  -   |
|    VehicleReload3p     |       SoundEvent       |          载具换弹的第三人称音效          |              null               |  -   |
| VehicleReloadSoundTime |          int           |          载具换弹音效的播放时长          |                0                |  -   |
|     ReloadPrepare      |       SoundEvent       |            准备换弹阶段的音效            |              null               |  -   |
|   ReloadPrepareEmpty   |       SoundEvent       |          准备空仓换弹阶段的音效          |              null               |  -   |
|   ReloadPrepareLoad    |       SoundEvent       |          准备换弹阶段的装弹音效          |              null               |  -   |
|       ReloadLoop       |       SoundEvent       |          单发换弹重复上弹的音效          |              null               |  -   |
|       ReloadEnd        |       SoundEvent       |            单发换弹结束的音效            |              null               |  -   |
|          Bolt          |       SoundEvent       |                拉栓的音效                |              null               |  -   |
|         Change         |       SoundEvent       |       切换武器的音效，用于载具武器       |              null               |  -   |
|        Locking         |       SoundEvent       |            正在锁定目标的音效            | "minecraft:intentionally_empty" |  -   |
|         Locked         |       SoundEvent       |             已锁定目标的音效             | "minecraft:intentionally_empty" |  -   |
|   FireSoundInstances   |       SoundEvent       |              载具开火的音效              |              null               |  -   |
|   CancellableSounds    | ObjectToList\<String\> |        切枪时应该被取消播放的音效        |               []                | 见下 |

卓越前线对SoundEvent提供了解析方案，格式如下：

```json
// 可以直接写入音效名称
"Fire1P": "superbwarfare:heng"

// 如果是固定范围音效，需要在名称后面加空格，再写范围
"Fire3P": "superbwarfare:heng 114"
```

以下是一个武器的音效示例：

```json
"SoundInfo": {
    "Fire1P": "superbwarfare:javelin_fire_1p",
    "Fire3P": "superbwarfare:javelin_fire_3p",
    "Fire3PFar": "superbwarfare:javelin_far",
    "ReloadEmpty": "superbwarfare:javelin_reload_empty",
    "Locking": "superbwarfare:javelin_locking",
    "Locked": "superbwarfare:javelin_locked",
    "CancellableSounds": [
      "superbwarfare:javelin_reload_empty",
      "superbwarfare:javelin_locking",
      "superbwarfare:javelin_locked"
    ]
}
```

音效也可以通过Override进行覆盖。

------

##### 发射位置

属于复杂数据类型,目前仅用于载具武器，用于配置弹药发射时所处的位置。

|  数据名  |   类型   |     说明     | 默认值 | 示例 |
| :------: | :------: | :----------: | :----: | :--: |
| ShootPos | ShootPos | 子弹发射位置 |   -    | 见下 |

ShootPos的属性如下：

|        数据名         |         类型         |                    说明                    |   默认值    | 示例 |
| :-------------------: | :------------------: | :----------------------------------------: | :---------: | :--: |
|       Transform       |        String        |               使用的变换矩阵               |  "Default"  |  -   |
|       Positions       |     List\<Vec3\>     |           子弹发射的位置（复数）           | [[0, 0, 0]] |  -   |
|      Directions       | List\<StringOrVec3\> |           子弹发射的方向（复数）           | ["Default"] |  -   |
|  ShootPositionForHud  |         Vec3         |             第一人称的发射位置             |    null     |  -   |
| ShootDirectionForHud  |     StringOrVec3     |             第一人称的发射方向             |    null     |  -   |
| BoundUpWithAmmoAmount |       boolean        | 是否每发射一次子弹就轮换一次发射位置和方向 |    false    |  -   |
|     ViewPosition      |         Vec3         |                  观察位置                  |    null     |  -   |
|     ViewDirection     |     StringOrVec3     |                  观察方向                  |    null     |  -   |

变换矩阵和StringOrVec3存在一些预设值，这里请查找
```java
com/atsuishio/superbwarfare/entity/vehicle/base/VehicleEntity.java
```

中的方法：

```java
protected void registerTransforms() {
        positionTransform.put("VehicleFlat", this::getVehicleFlatTransform);
        positionTransform.put("Turret", this::getTurretTransform);
        positionTransform.put("Barrel", this::getBarrelTransform);
        positionTransform.put("WeaponStation", this::getGunTransform);
        positionTransform.put("WeaponStationBarrel", this::getPassengerWeaponStationBarrelTransform);
        positionTransform.put("Default", this::getVehicleTransform);

        vectorTransform.put("Turret", this::getTurretVector);
        vectorTransform.put("Barrel", this::getBarrelVector);
        vectorTransform.put("WeaponStationBarrel", this::getPassengerWeaponStationVector);
        vectorTransform.put("DeltaMovement", tick -> getDeltaMovement().normalize());
        vectorTransform.put("Up", this::getUpVec);
        vectorTransform.put("Default", this::getViewVector);

        rotationTransform.put("Turret", tick -> VectorTool.combineRotationsTurret(tick, this));
        rotationTransform.put("Barrel", tick -> VectorTool.combineRotationsBarrel(tick, this));
        rotationTransform.put("RotationsYaw", tick -> VectorTool.combineRotationsYaw(tick, this));
        rotationTransform.put("Default", tick -> VectorTool.combineRotations(tick, this));
}
```

------

##### 其他数据

这里就是一些不好归类的数据，没准以后会删。

|            数据名            |  类型   |                             说明                             |  默认值   | 示例 |
| :--------------------------: | :-----: | :----------------------------------------------------------: | :-------: | :--: |
|           GunType            | GunType |                       武器类型，枚举类                       | "Special" |  -   |
|  WithdrawAmmoWhenChangeSlot  | boolean |                    在切换武器时是否要退弹                    |   false   |  -   |
| ClearHoldProgressAfterShoot  | boolean |                 在发射之后是否要清空蓄力进度                 |   false   |  -   |
|         SoundRadius          | double  |                      武器音效的传播半径                      |     0     |  -   |
|      ShootAnimationTime      |   int   |                  用于载具武器的发射动画时长                  |     0     |  -   |
|     IsAntiAirProjectile      | boolean |                    发射物是否是防空的子弹                    |   false   |  -   |
| IsClusterMunitionsProjectile | boolean |                      发射物是否是集束弹                      |   false   |  -   |
|         SpreadAmount         |   int   |             如果发射物是集束弹，那么它分裂的数量             |    10     |  -   |
|         SpreadAngle          |   int   |             如果发射物是集束弹，那么它分裂的角度             |    15     |  -   |
|  IsArmorPiercingProjectile   | boolean |                      发射物是否是穿甲弹                      |   false   |  -   |
|  IsHighExplosiveProjectile   | boolean |                      发射物是否是高爆弹                      |   false   |  -   |
|    IsGrapeShotProjectile     | boolean |                      发射物是否是葡萄弹                      |   false   |  -   |
|   AddShooterDeltaMovement    | boolean | 发射物的动量是否叠加发射者的动量，如果设置为true，<br />Velocity属性会变为叠加动量的倍率 |   false   |  -   |

其中GunType有以下几种：

- "Rifle" 步枪
- "Shotgun" 霰弹枪
- "Sniper" 狙击枪
- "MachineGun" 机枪
- "Handgun" 手枪
- "Smg" 冲锋枪
- "DirectLauncher" 直射发射器（例如火箭筒）
- "CurvedLauncher" 曲射发射器（例如榴弹等）
- "Special" 特殊武器

另外IsClusterMunitionsProjectile这种属性预计会在不久后删除。



------

#### 载具数据

所有字段都在

```java
com/atsuishio/superbwarfare/data/vehicle/DefaultVehicleData.java
```

这个类中。



##### 基础数据

|      数据名      |  类型   |                             说明                             |     默认值     |         示例         |
| :--------------: | :-----: | :----------------------------------------------------------: | :------------: | :------------------: |
|        ID        | String  | 指定本文件要修改的载具，留空或不写会默认尝试使用文件名作为载具ID |       ""       | "superbwarfare:ah_6" |
|    MaxHealth     |  float  |                       载具的最大耐久值                       |       50       |         810          |
|  RepairCooldown  |   int   |                载具开始呼吸回血的前置冷却时间                | 等同于配置文件 |         114          |
|   RepairAmount   |  float  |                      载具呼吸回血的数值                      | 等同于配置文件 |         5.14         |
| SelfHurtPercent  |  float  |            载具的血量低于这个比例时，开始自动扣血            |      0.1       |          -           |
|  SelfHurtAmount  |  float  |             载具开始自动扣血时，每tick扣除的血量             |      0.1       |          -           |
|    MaxEnergy     |   int   |                        载具的最大能量                        |   2147483647   |          0           |
|      UpStep      |  float  |                        载具的爬坡高度                        |       0        |         1.5          |
|       Mass       |  float  |                     载具的重量，单位是吨                     |       1        |          -           |
|     Gravity      | double  |                       载具的重力加速度                       |      0.06      |          -           |
|   AllowFreeCam   | boolean | 是否允许在载具上按住自由视角键（默认C）开启自由视角，<br />仅对飞行载具生效 |     false      |         true         |
|     HasDecoy     | boolean |     是否有诱饵弹，飞行载具使用干扰弹，地面载具使用烟雾弹     |     false      |         true         |
| SendHitParticles | boolean |                    受击时是否出现粒子效果                    |      true      |          -           |

------

##### 碰撞体积

| 数据名 |      类型       |        说明        | 默认值 | 示例 |
| :----: | :-------------: | :----------------: | :----: | :--: |
|  OBB   | List\<OBBInfo\> | 载具的精细碰撞体积 |   []   | 见下 |

OBBInfo的属性如下：

|  数据名   |   类型   |                           说明                            |  默认值   |   示例    |
| :-------: | :------: | :-------------------------------------------------------: | :-------: | :-------: |
|   Size    |   Vec3   |                  OBB碰撞箱的三个轴的半长                  | [0, 0, 0] | [1, 2, 3] |
| Position  |   Vec3   |                   OBB碰撞箱的中心点位置                   | [0, 0, 0] | [1, 2, 3] |
| Transform |  String  |                    OBB碰撞箱的旋转矩阵                    | "Default" |     -     |
| Rotation  |  String  | OBB碰撞箱跟随旋转的部件，目前只有<br />"Turret"和"Barrel" | "Default" |     -     |
|   Part    | OBB.Part |                    OBB碰撞箱的部件类型                    |  "Body"   |     -     |

这里旋转矩阵类型可以看上一部分的**发射位置**。

OBB.Part枚举类分为以下几种：

- "Empty" 啥也没有
- "WheelLeft" 左侧车轮
- "WheelRight"右侧车轮
- "Turret" 炮塔
- "MainEngine" 主引擎
- "SubEngine" 副引擎
- "Body" 主体部分
- "Interactive"可交互部件（渲染时会变成橘黄色的，例如63式的炮筒）

这个部分过于神秘，建议查阅本体代码和数据包写法。

------

##### 座位信息

| 数据名 |           类型           |      说明      | 默认值 | 示例 |
| :----: | :----------------------: | :------------: | :----: | :--: |
| Seats  | ObjectToList\<SeatInfo\> | 载具的座位信息 |   []   | 见下 |

SeatInfo是复杂数据类型，属性如下：

|    数据名     |          类型          |                             说明                             |  默认值   | 示例 |
| :-----------: | :--------------------: | :----------------------------------------------------------: | :-------: | :--: |
| HidePassenger |        boolean         |                     该座位是否会隐藏乘客                     |   false   |  -   |
|  IsEnclosed   |        Boolean         |     该座位是否为封闭座位（封闭座位会吸收乘客受到的伤害）     |   null    | true |
|   Transform   |         String         |                该座位乘客相对于载具的旋转矩阵                | "Default" |  -   |
|   Position    |          Vec3          |                乘客相对于旋转矩阵中心点的位置                | [0, 0, 0] |  -   |
|  Orientation  |         float          |                乘客相对于旋转矩阵正方向的夹角                |     0     |  -   |
| CanRotateBody |        Boolean         |                      乘客是否能旋转身体                      |   false   |  -   |
| CanRotateHead |        Boolean         |                      乘客是否能旋转头部                      |   true    |  -   |
|   MinPitch    |         float          |                          最小俯仰角                          |    -90    |  -   |
|   MaxPitch    |         float          |                          最大俯仰角                          |    90     |  -   |
|    MinYaw     |         float          |                       最小水平旋转角度                       |   -514    |  -   |
|    MaxYaw     |         float          |                       最大水平旋转角度                       |    514    |  -   |
|    Weapons    | ObjectToList\<String\> |                       该座位的武器信息                       |    []     | 见下 |
|   CameraPos   |       CameraPos        |                        乘客的视角位置                        |   null    | 见下 |
|    BanHand    |        Boolean         |                   是否禁止乘客使用手上物品                   |   false   |  -   |
|  Sensitivity  |          Vec3          | 玩家在载具上的鼠标灵敏度，分别是<br />[瞄准的灵敏度, 第一人称腰射灵敏度, 第三人称腰射灵敏度] | [1, 1, 1] |  -   |
| DismountInfo  |      DismountInfo      |                     乘客下车时的各项数据                     |   null    | 见下 |

其中Weapons属性标明了该座位被分配了什么武器，具体写法见下文**载具武器**部分。

CameraPos也是一个复杂数据类型，属性如下：

|      数据名       |     类型     |                             说明                             |   默认值    | 示例 |
| :---------------: | :----------: | :----------------------------------------------------------: | :---------: | :--: |
|     Transform     |    String    |                       摄像机的旋转矩阵                       |  "Default"  |  -   |
|     Position      |     Vec3     |               摄像机相对于旋转矩阵中心点的位置               |  [0, 0, 0]  |  -   |
|     Direction     | StringOrVec3 |                         摄像机的方向                         |  "Default"  |  -   |
|   ZoomPosition    |     Vec3     |                      瞄准时的摄像机位置                      |    null     |  -   |
|   ZoomDirection   | StringOrVec3 |                      瞄准时的摄像机方向                      |    null     |  -   |
| UseFixedCameraPos |   boolean    |                    是否使用固定摄像机位置                    |    false    |  -   |
|   UseSimulate3P   |   boolean    | 是否允许在第一人称模拟第三人称视角，<br />例如没有内饰的载具（Lav-150）的乘员位置视角 |    false    |  -   |
|   Simulate3PPos   |     Vec2     |                    模拟第三人称视角的位置                    |   [6, 1]    |  -   |
| UseAircraftCamera |   boolean    |                  是否使用飞行载具摄像机模式                  |    false    |  -   |
| AircraftCameraPos |     Vec3     |                      飞行载具摄像机位置                      | [0, 3, -10] |  -   |

DismountInfo的属性如下：

|     数据名     |     类型     |                  说明                  |  默认值   | 示例 |
| :------------: | :----------: | :------------------------------------: | :-------: | :--: |
|   Transform    |    String    |      适用于玩家下车位置的旋转矩阵      | "Default" |  -   |
|    Position    |     Vec3     | 玩家下车位置相对于旋转矩阵中心点的位置 | [0, 0, 0] |  -   |
|    CanEject    |   boolean    |            能否允许弹射乘客            | "Default" |  -   |
| EjectPosition  |     Vec3     |                弹射位置                |   null    |  -   |
| EjectDirection | StringOrVec3 |               弹射的方向               |   "Up"    |  -   |
|   EjectForce   |    double    |               弹射的力度               |     2     |  -   |

那么一个五座载具的Seats数据如下：

```json
"Seats": [
    {
      "HidePassenger": true,
      "CameraPos": {
        "Transform": "Barrel",
        "ZoomPosition": [0.1, 0.0517, 0],
        "Direction": "Barrel"
      },
      "Weapons": ["Cannon", "MachineGun"],
      "Transform": "Turret",
      "Position": [0.36, -0.65, 0.56],
      "CanRotateHead": false,
      "MinPitch": -15,
      "MaxPitch": 32.5,
      "Sensitivity": [0.55, 0.73, 1]
    },
    {
      "HidePassenger": true,
      "BanHand": true,
      "Transform": "Vehicle",
      "Position": [0, 1, 0],
      "CameraPos": {
        "UseSimulate3P": true,
        "Simulate3PPos": [6, 1]
      }
    },
    {
      "HidePassenger": true,
      "BanHand": true,
      "Transform": "Vehicle",
      "Position": [0, 1, 0],
      "CameraPos": {
        "UseSimulate3P": true,
        "Simulate3PPos": [6, 1]
      }
    },
    {
      "HidePassenger": true,
      "BanHand": true,
      "Transform": "Vehicle",
      "Position": [0, 1, 0],
      "CameraPos": {
        "UseSimulate3P": true,
        "Simulate3PPos": [6, 1]
      }
    },
    {
      "HidePassenger": true,
      "BanHand": true,
      "Transform": "Vehicle",
      "Position": [0, 1, 0],
      "CameraPos": {
        "UseSimulate3P": true,
        "Simulate3PPos": [6, 1]
      }
    }
]
```

这个也是模组中Lav-150步战车的座位信息，可以看到五个位置都是隐藏乘客，并且阻止乘客使用手上物品的。其中只有1号位被分配了武器，因此需要额外设置摄像机位置、灵敏度等与武器相关的数据。其他四个位置是乘客位，并且第一人称视角和第三人称下的表现形式是一样的，使用了UseSimulate3P模拟第三人称视角。

以下是模组中A-10A战斗机的座位信息，该载具只有一个座位，且允许弹射乘客：

```json
"Seats": {
    "IsEnclosed": true,
    "Transform": "Vehicle",
    "Position": [0, 2.125, 3.7],
    "CanRotateHead": false,
    "Sensitivity": [0, 0, 0],
    "CameraPos": {
      "Transform": "Vehicle",
      "Position": [0, 3.725, 3.7],
      "UseFixedCameraPos": true,
      "UseAircraftCamera": true,
      "AircraftCameraPos": [0, 4, -14]
    },
    "DismountInfo": {
      "Transform": "Vehicle",
      "Position": [1.6, 0.5, 3.8],
      "CanEject": true,
      "EjectPosition": [0, 4.2, 3.7],
      "EjectDirection": "Up",
      "EjectForce": 4
    },
    "Weapons": ["Cannon", "Rocket", "Bomb", "Missile"]
}
```

读者可以自行查阅模组本体其他载具的写法。

------

##### 载具武器

从0.8.8版本开始，载具武器与前文的枪械共用一套系统。作者认为这是非常好的，没有一点坏处。

| 数据名  |          类型           |        说明        | 默认值 | 示例 |
| :-----: | :---------------------: | :----------------: | :----: | :--: |
| Weapons | Map<String, JsonObject> | 载具的所有武器信息 |   {}   | 见下 |

Weapons是一个Map类型的数据，格式是：

```json
"武器名": {
    // 这里面和GunData的写法一致
}
```

这里的数据没有什么好讲的，直接举例说明。

从比较简单的武器说起，例如Lav-150步战车：

```json
"Weapons": {
    "Cannon": {
      "Icon": "superbwarfare:textures/overlay/vehicle/weapon/icons/cannon_20mm.png",
      "DefaultFireMode": "Auto",
      "AvailableFireModes": "Auto",
      "Projectile": "superbwarfare:small_cannon_shell",
      "DefaultZoom": 3,
      "RPM": 300,
      "Velocity": 20,
      "Damage": 45,
      "ExplosionDamage": 12,
      "ExplosionRadius": 4,
      "RecoilTime": 29,
      "RecoilForce": 0.55,
      "Spread": 0.5,
      "HeatPerShoot": 7,
      "NaturalCooldown": 1,
      "ShootAnimationTime": 3,
      "Crosshair": "@VehicleUsApc",
      "CrosshairColor": "0x66FF00",
      "Name": "weapon.superbwarfare.20mm_cannon",
      "SoundInfo": {
        "Fire1P": "superbwarfare:lav_150_cannon_fire_1p",
        "Fire3P": "superbwarfare:lav_150_cannon_fire_3p",
        "Fire3PFar": "superbwarfare:lav_150_cannon_far",
        "Fire3PVeryFar": "superbwarfare:lav_150_cannon_veryfar",
        "Change": "superbwarfare:into_missile"
      },
      "SoundRadius": 24,
      "AmmoType": "superbwarfare:small_shell",
      "ShootPos": {
        "Transform": "Barrel",
        "Positions": [[0.02, 0.0517, 3.2]],
        "Directions": ["Barrel"]
      }
    },
    "MachineGun": {
      "Icon": "superbwarfare:textures/overlay/vehicle/weapon/icons/gun_7_62mm.png",
      "DefaultFireMode": "Auto",
      "AvailableFireModes": "Auto",
      "Spread": 0.5,
      "CrosshairColor": "0x66FF00",
      "Projectile": "superbwarfare:projectile",
      "RPM": 600,
      "Damage": 9.5,
      "BypassesArmor": 0.3,
      "Velocity": 30,
      "RecoilTime": 22,
      "RecoilForce": 0.1,
      "HeatPerShoot": 4,
      "NaturalCooldown": 1,
      "ShootAnimationTime": 2,
      "AmmoType": "@RifleAmmo",
      "ShootPos": {
        "Transform": "Barrel",
        "Positions": [[0.3, 0.0517, 0.5]],
        "Directions": ["Barrel"]
      },
      "Crosshair": "@VehicleCommonGun",
      "Name": "weapon.superbwarfare.7_62mm_coax",
      "SoundInfo": {
        "Fire1P": "superbwarfare:coax_fire_1p",
        "Fire3P": "superbwarfare:m_60_fire_3p",
        "Fire3PFar": "superbwarfare:m_60_far",
        "Fire3PVeryFar": "superbwarfare:m_60_veryfar",
        "Change": "superbwarfare:into_cannon"
      },
      "SoundRadius": 12
    }
}
```

可以看到这里定义了两种武器，名称分别是Cannon和MachineGun，后面的数据也是武器数据的写法。那么我们再回到刚才座位信息那里，看一下这个载具一号位的写法：

```json
"Seats": [
    {
      // ...
      "Weapons": ["Cannon", "MachineGun"],
      // ...
    },
    // ...
]
```

不难看出，这里Seats的Weapons传入的数据就是刚才**最外层Weapons**定义的武器名称，这样实现的效果就是给一号位绑定了这两个武器。

接下来是稍微复杂一点的，还记得上一部分提到的ShootPos里面的Positions和BoundUpWithAmmoAmount吗，模组中YX-100的三号位武器“蜂群无人机”就是这样切换发射位置的，示例如下：

```json
"Weapons": {
     "SwarmDrone": {
      "Icon": "superbwarfare:textures/overlay/vehicle/weapon/icons/swarm_drone.png",
      "DefaultFireMode": "Auto",
      "AvailableFireModes": ["Auto"],
      "Spread": 0.3,
      "Magazine": 14,
      "EmptyReloadTime": 140,
      "DefaultZoom": 2,
      "CrosshairColor": "0x00ff66",
      "Projectile": "superbwarfare:swarm_drone",
      "RPM": 600,
      "ExplosionDamage": 150,
      "ExplosionRadius": 5,
      "Velocity": 2,
      "ShootPos": {
        "Transform": "Turret",
        // 这里规定了复数个开火位置，每次开火会往下循环
        "Positions": [
          [-1.6290875, 0.75536875, -1.76616875],
          [1.6290875, 0.75536875, -1.76616875],
          [-1.7822125, 0.75536875, -1.9193],
          [1.7822125, 0.75536875, -1.9193],
          [-1.6290875, 0.75536875, -2.07241875],
          [1.6290875, 0.75536875, -2.07241875],
          [-1.7822125, 0.75536875, -2.22555],
          [1.7822125, 0.75536875, -2.22555],
          [-1.6290875, 0.75536875, -2.37866875],
          [1.6290875, 0.75536875, -2.37866875],
          [-1.7822125, 0.75536875, -2.5318],
          [1.7822125, 0.75536875, -2.5318],
          [-1.6290875, 0.75536875, -2.68491875],
          [1.6290875, 0.75536875, -2.68491875]
        ],
        "BoundUpWithAmmoAmount": true,
        "Directions": [[0, 1, 0]],
        "ShootPositionForHud": [0.86219375, 1.67, -0.5696875],
        "ViewDirection": "Passenger"
      },
      "SeekWeaponInfo": {
        "SeekDirection": "Passenger",
        "SeekRange": 384,
        "SeekAngle": 20,
        "SeekTime": 10,
        "OnlyLockEntity": true
      },
      // 多种弹药类型和属性覆写在这里也生效
      "AmmoType": [
        {
          "Ammo": "superbwarfare:swarm_drone",
          "ShouldUnload": false
        },
        {
          "Ammo": "superbwarfare:swarm_drone",
          "ShouldUnload": false,
          "Override": {
            "SeekWeaponInfo": {
              "SeekDirection": "Passenger",
              "SeekRange": 384,
              "SeekAngle": 20,
              "SeekTime": 10,
              "OnlyLockBlock": true
            }
          }
        }
      ],
      "Crosshair": "@VehicleCommonMissile",
      "CrosshairZooming": "@VehicleCommonSeekMissile",
      "Name": "weapon.superbwarfare.swarm_drone",
      "SoundInfo": {
        "Fire1P": "superbwarfare:yx_100_swarm_drone_release",
        "Fire3P": "superbwarfare:yx_100_swarm_drone_release",
        "VehicleReload3p": "superbwarfare:missile_reload",
        "VehicleReloadSoundTime": 7
      },
      "SoundRadius": 4
    }
}
```

最后是载具武器特有的一个写法，模板（Template）。假如说你需要给载具定义很多种类似的武器，每种武器都把所有需要的数据完全写一遍又很麻烦，这时候你可以定义一个武器数据模板。以模组中Mi-28武装直升机的数据为例：

```json
"Weapons": {
    // 这个就是模板了
    "@Missile": {
      "Icon": "superbwarfare:textures/overlay/vehicle/weapon/icons/missile_9m120.png",
      "DefaultFireMode": "Semi",
      "AvailableFireModes": "Semi",
      "RPM": 12,
      "EmptyReloadTime": 240,
      "AmmoType": "superbwarfare:medium_anti_ground_missile",
      "Projectile": "superbwarfare:wire_guide_missile",
      "Name": "weapon.superbwarfare.9m_120_missile",
      "Damage": 650,
      "ExplosionDamage": 80,
      "ExplosionRadius": 7,
      "Velocity": 3,
      "CrosshairColor": "0xFFC700",
      "SoundInfo": {
        "Fire1P": "superbwarfare:bomb_release",
        "Fire3P": "superbwarfare:bomb_release",
        "VehicleReload3p": "superbwarfare:bomb_reload",
        "VehicleReloadSoundTime": 11,
        "Change": "superbwarfare:into_missile"
      },
      "SoundRadius": 8
    },
    "DriverMissile": {
      "DefaultZoom": 2,
      "Magazine": 4,
      "Crosshair": "@AirCraftMissile",
      // 在这里直接套用模板
      "Template": "@Missile",
      "ShootPos": {
        "Transform": "Vehicle",
        "ShootPositionForHud": [0, 3.5625, 2.25],
        "Positions": [[-2.258, 1.932, 0], [-2.258, 1.67, 0], [-2.446, 1.932, 0], [-2.446, 1.67, 0]],
        "BoundUpWithAmmoAmount": true
      }
    },
    "PassengerMissile": {
      "DefaultZoom": 3,
      "Magazine": 8,
      "Template": "@Missile",
      "Crosshair": "@VehicleCommonMissile",
      "ShootPos": {
        "Transform": "Vehicle",
        "ShootPositionForHud": [0, 1.0625, 5.625],
        "Positions": [[2.258, 1.932, 0], [2.258, 1.67, 0], [2.446, 1.932, 0], [2.446, 1.67, 0], [2.806, 1.932, 0], [2.806, 1.67, 0], [2.993, 1.932, 0], [2.993, 1.67, 0]],
        "BoundUpWithAmmoAmount": true,
        "ViewDirection": "Barrel"
      }
    }
}
```

武器模板的名称没有硬性要求，但是按照卓越前线的命名规范，建议你将其命名为"@+名称"，以便于区分模板武器与常规武器。

使用了模板的武器数据会继承模板的属性，你只需要补充常规武器需要的属性即可。

------

##### 伤害减免

卓越前线载具的强度一半是由超高的减伤带来的。

|           数据名            |                      类型                      |           说明           | 默认值 | 示例  |
| :-------------------------: | :--------------------------------------------: | :----------------------: | :----: | :---: |
| ApplyDefaultDamageModifiers |                    boolean                     | 是否使用默认的减伤修饰器 |  true  | false |
|       DamageModifiers       | ObjectToList\<StringToObject\<DamageModify\>\> |        减伤修饰器        |   []   | 见下  |

DamageModify是一个复杂数据类型，属性如下：

| 数据名 |    类型    |     说明     |   默认值   | 示例 |
| :----: | :--------: | :----------: | :--------: | :--: |
|  Type  | ModifyType | 伤害修饰类型 | "Immunity" |  -   |
| Value  |   float    | 待操作的数值 |     0      |  -   |
| Source |   String   |   伤害来源   |   "All"    |  -   |

其中ModifyType是一个枚举类型，分为以下四种：

- "Immunity" 完全免疫
- "Reduce" 固定数值减伤
- "Multiply" 乘以指定数值
- "Invalid" 解析无效，如果你写错了会自动处理成这个

伤害来源属性Source也分为多种类型，以下是详细写法：

```json
// 全局减伤
"Source": "All"

// 对某一种伤害类型减伤
"Source": "minecraft:lava"

// 对某一类伤害类型减伤，使用的是伤害类型标签
"Source": "#superbwarfare:projectile"

// 对某种实体造成的伤害进行减伤
"Source": "@minecraft:arrow"

// 对某一类实体造成的伤害进行减伤，使用的是实体标签
"Source": "@#superbwarfare:aerial_bomb"

// 自定函数计算，0.8.8版本未启用
"Source": "$function(xxx)"
```

所以一个DamageModify的样例是：

```json
"DamageModifiers": [
    {
        "Source": "All",
        "Type": "Reduce",
        "Value": 8
    }
]
```

这个写法的效果就是对于所有伤害，都减少8点。

当然这样写很麻烦，这里提供了一个更简单的解析方式：

```json
"DamageModifiers": [
	"All - 8"
]
```

效果和上面是等价的。

也就是说，可以写成如下的简写形式：

```json
"DamageModifiers": [
    // 简写的基础格式
    "类型 操作符 数值",
    
    // 固定减伤的写法
    "All - 8",
    // 乘算减伤的写法
    "All * 0.2",
    // 完全免疫的写法
    "All 0"
]
```

那么现在可以看示例了，一个完整的载具减伤示例是：

```json
"DamageModifiers": [
    "minecraft:lava - -11",
    "minecraft:lava * 10",
    "All * 0.2",
    "minecraft:arrow * 1.5",
    "minecraft:trident * 1.5",
    "minecraft:mob_attack * 2.5",
    "minecraft:mob_attack_no_aggro * 2",
    "minecraft:mob_projectile * 1.5",
    "minecraft:explosion * 6",
    "minecraft:player_explosion * 6",
    "superbwarfare:custom_explosion * 2.0",
    "superbwarfare:projectile_explosion * 2",
    "superbwarfare:mine * 0.75",
    "superbwarfare:projectile_hit * 1.25",
    "superbwarfare:grapeshot_hit * 0.3",
    "superbwarfare:laser * 1.25",
    "@#superbwarfare:aerial_bomb * 3",
    "#superbwarfare:projectile * 0.25",
    "#superbwarfare:projectile_absolute * 0.85",
    "superbwarfare:vehicle_strike * 4",
    "@superbwarfare:mortar_shell * 1.25",
    "@superbwarfare:gun_grenade * 1.5",
    "@superbwarfare:javelin_missile * 0.8",
    "@superbwarfare:igla_9k38_missile * 0.75",
    "All - 11"
]
```

注意DamageModify是有优先级的，计算优先级：免疫 > 固定减伤 > 乘，操作方式相同时，按照由上到下的顺序处理。

在0.8.8版本下，如果想要自定义减伤算法，仍然需要手写代码。

例如：

```java
@Override
public DamageModifier getDamageModifier() {
        return super.getDamageModifier()
                .custom((source, damage) -> {
                    damage *= getHealth() > 0.1f ? 1 : 0.05f;
                    return damage;
                });
}
```

如果ApplyDefaultDamageModifiers属性为true，也就是启用了默认的减伤修饰器，会自带如下效果：

```java
public static DamageModifier createDefaultModifier() {
        return new DamageModifier()
                .immuneTo(EntityType.POTION)
                .immuneTo(EntityType.AREA_EFFECT_CLOUD)
                .immuneTo(DamageTypes.FALL)
                .immuneTo(DamageTypes.CACTUS)
                .immuneTo(DamageTypes.DROWN)
                .immuneTo(DamageTypes.DRAGON_BREATH)
                .immuneTo(DamageTypes.WITHER)
                .immuneTo(DamageTypes.WITHER_SKULL);
}

// 以及一个额外的撞击伤害减免
modifier.reduce(5, ModDamageTypes.VEHICLE_STRIKE);
```

------

##### 损坏后行为

|   数据名    |    类型     |       说明       | 默认值 | 示例 |
| :---------: | :---------: | :--------------: | :----: | :--: |
| DestroyInfo | DestroyInfo | 载具损坏后的行为 |   -    | 见下 |

DestroyInfo是一个复杂数据类型，属性如下：

|      数据名       |           类型            |                             说明                             | 默认值 | 示例 |
| :---------------: | :-----------------------: | :----------------------------------------------------------: | :----: | :--: |
|  CrashPassengers  |          boolean          |                    是否对乘客造成坠机伤害                    | false  |  -   |
| ExplodePassengers |          boolean          |                  是否对乘客造成载具损坏伤害                  |  true  |  -   |
|   ExplodeBlocks   |          boolean          |                  损坏时的爆炸是否会破坏方块                  |  true  |  -   |
|  ExplosionDamage  |           float           |                       损坏时的爆炸伤害                       |   0    |  -   |
|  ExplosionRadius  |           float           |                       损坏时的爆炸半径                       |   0    |  -   |
|   ParticleType    | ParticleTool.ParticleType | 损坏时的爆炸粒子效果，从以下五种选择一个：<br />"Mini", "Small", "Medium", "Huge", "Giant" | "Mini" |  -   |

其中坠机伤害是造成N次（默认为5）的大量伤害（默认114514），这两个数值位于服务端配置文件，不排除以后需要使用数据包配置的可能性。载具损坏伤害就是造成单次的大量伤害。

一个DestroyInfo的示例如下：

```json
"DestroyInfo": {
    "ParticleType": "Giant",
    "ExplosionDamage": 800,
    "ExplosionRadius": 16,
    "CrashPassengers": true
}
```

~~男人，什么罐头我说。~~

------

##### 自动索敌

仅用于能够自动索敌的炮塔类载具，例如激光塔、近防炮等。

|  数据名  |   类型   |        说明        | 默认值 | 示例 |
| :------: | :------: | :----------------: | :----: | :--: |
| SeekInfo | SeekInfo | 载具自动索敌的数据 |  null  | 见下 |

SeekInfo是一个复杂数据类型，属性如下：

|      数据名      |  类型  |                             说明                             | 默认值 | 示例 |
| :--------------: | :----: | :----------------------------------------------------------: | :----: | :--: |
|   MaxSeekRange   | double |                         最大索敌范围                         |   64   |  -   |
|   MinSeekRange   | double |                         最小索敌范围                         |   1    |  -   |
| ChangeTargetTime |  int   | 切换目标的时长，如果在这个时间内无法攻击到目标，<br />则自动切换目标重新索敌 |   60   |  -   |
|  SeekIterative   |  int   |                        索敌需要的时间                        |   20   |  -   |
|  MinTargetSize   | double |                     待锁定敌人的最小体积                     |  0.25  |  -   |
|  SeekEnergyCost  |  int   |                      自动索敌消耗的能量                      |  1000  |  -   |

例如激光塔的自动索敌数据是这样的：

```json
"SeekInfo": {
    "MinSeekRange": 1,
    "MaxSeekRange": 72,
    "ChangeTargetTime": 60,
    "SeekIterative": 30,
    "MinTargetSize": 0.1,
    "SeekEnergyCost": 500
}
```

------

##### 显示效果

|    数据名     |       类型       |              说明              |                          默认值                          |                             示例                             |
| :-----------: | :--------------: | :----------------------------: | :------------------------------------------------------: | :----------------------------------------------------------: |
|  VehicleIcon  | ResourceLocation | 载具的图标，用于右上角击杀提示 | "superbwarfare:textures/<br />gun_icon/default_icon.png" |                              -                               |
| ContainerIcon | ResourceLocation |        载具集装箱的角标        |                           null                           | "superbwarfare:textures/<br />gui/vehicle/type/aircraft.png" |
|   HUDColor    |     ModColor     |         载具HUD的颜色          |                        "0x66FF00"                        |                              -                               |

这个感觉没有什么好说的。

模组提供了一部分载具图标，分别是：

- "superbwarfare:textures/gui/vehicle/type/aircraft.png" 飞机
- "superbwarfare:textures/gui/vehicle/type/civilian.png" 民用载具
- "superbwarfare:textures/gui/vehicle/type/defense.png" 防御塔
- "superbwarfare:textures/gui/vehicle/type/land.png" 地面载具
- "superbwarfare:textures/gui/vehicle/type/otto.png" 轮椅
- "superbwarfare:textures/gui/vehicle/type/water.png" 水上载具



------

##### 载具容量

0.8.8版本并**没有启用**这个，所以填写什么都没有用。

|        数据名        |         类型         |      说明      |  默认值  | 示例 |
| :------------------: | :------------------: | :------------: | :------: | :--: |
| VehicleContainerType | VehicleContainerType |  载具容量大小  | "Medium" | 见下 |
|   HasUpgradeSlots    |       boolean        | 是否带有升级槽 |  false   |  -   |

VehicleContainerType分为8种，其中只有5种带有可打开的菜单：

- "Empty" 0x0 无菜单
- "One" 1x1 无菜单
- "Mini" 1x9 有菜单
- "Small" 3x9 有菜单
- "Medium" 6x9 有菜单
- "Large" 6x13 有菜单
- "Huge" 6x17 有菜单（现在默认都是这个）
- "Special" 3x4 无菜单（仅用于63式的特殊类型）

如果带有升级槽，则在原有菜单的基础上添加三个可以装备载具模组的槽位。

**本功能尚未实现。**

------

##### 载具引擎

在0.8.8版本中，车速终于能调整了。

|   数据名    |    类型    |        说明        |             默认值              | 示例 |
| :---------: | :--------: | :----------------: | :-----------------------------: | :--: |
| EngineType  | EngineType |    载具引擎类型    |             "Empty"             | 见下 |
| EngineInfo  | JsonObject | 载具引擎的具体数据 |               {}                | 见下 |
| EngineSound | SoundEvent |      引擎音效      | "minecraft:intentionally_empty" |  -   |
|  HornSound  | SoundEvent |     车喇叭音效     | "minecraft:intentionally_empty" |  -   |

EngineType分为多个类型，对应着不同种类的引擎：

- "Empty" 默认值，没有引擎
- "Fixed" 固定引擎，适用于固定火炮之类的载具
- "Wheel" 轮式引擎，适用于轮式步战车和一般车辆
- "Track" 履带引擎，适用于坦克等
- "Helicopter" 直升机引擎
- "Ship" 船引擎
- "Aircraft" 固定翼飞机引擎
- "WheelChair" 轮椅引擎
- "Tom6" TomF6F特有的引擎

注意，该字段将直接影响EngineInfo数据的解析方式，因此务必填写正确的引擎类型！

EngineInfo按照指定的EngineType，会自动解析成以下几种类型：

**通用引擎**数据：

|      数据名       |  类型  |             说明              | 默认值 | 示例 |
| :---------------: | :----: | :---------------------------: | :----: | :--: |
|  EnergyCostRate   | double |         能量消耗比例          |   1    |  -   |
|     Buoyancy      | double | 浮力，大于0时认为载具是两栖的 |   0    |  -   |
|     Increment     | float  |         前进的加速度          | 0.001  |  -   |
|     Decrement     | float  |         后退的加速度          | 0.001  |  -   |
| EngineSoundVolume | float  |          引擎的音量           |  0.4   |  -   |

其他几种引擎是在通用数据的基础上，加入独特的数据。

**轮式引擎**数据：（继承自通用引擎）

|        数据名        |  类型  |       说明       | 默认值 | 示例 |
| :------------------: | :----: | :--------------: | :----: | :--: |
|    WheelRotSpeed     | double |   车轮旋转速度   |   0    |  -   |
|  WheelDifferential   | double |     车轮差速     |   0    |  -   |
|    SteeringSpeed     | float  |     转向速度     |  0.1   |  -   |
| MaxForwardSpeedRate  | float  | 最大前进速度系数 |  0.2   |  -   |
| MaxBackwardSpeedRate | float  | 最大后退速度系数 |  -0.1  |  -   |

**履带引擎**数据：（继承自轮式引擎）

|      数据名       |  类型  |     说明     | 默认值 | 示例 |
| :---------------: | :----: | :----------: | :----: | :--: |
|   TrackRotSpeed   | double | 履带旋转速度 |   0    |  -   |
| TrackDifferential | double |   履带差速   |   0    |  -   |

**轮椅引擎**数据：（继承自轮式引擎）

|     数据名     |  类型   |          说明          | 默认值 | 示例 |
| :------------: | :-----: | :--------------------: | :----: | :--: |
|  BodyRollRate  | double  |    车身滚转转动比例    |   1    |  -   |
|    CanJump     | boolean | 能否跳跃（默认按空格） | false  |  -   |
| JumpEnergyCost |   int   |     跳跃的能量消耗     |  400   |  -   |
|  JumpCoolDown  |   int   |     跳跃的冷却时间     |   3    |  -   |
|   JumpForce    | double  |       跳跃的力度       |  0.6   |  -   |

不是真有人用这个引擎吗……

**船引擎**数据：（继承自通用引擎）

|        数据名        |  类型  |       说明       | 默认值 | 示例 |
| :------------------: | :----: | :--------------: | :----: | :--: |
|    BodyPitchRate     | double | 船体俯仰转动比例 |   1    |  -   |
|     BodyRollRate     | double | 船体滚转转动比例 |   1    |  -   |
|    SteeringSpeed     | float  |     转向速度     |  0.1   |  -   |
| MaxForwardSpeedRate  | float  | 最大前进速度系数 |  0.2   |  -   |
| MaxBackwardSpeedRate | float  | 最大后退速度系数 |  -0.1  |  -   |

**直升机引擎**数据：（继承自通用引擎）

|      数据名      |    类型    |     说明     |             默认值              | 示例 |
| :--------------: | :--------: | :----------: | :-----------------------------: | :--: |
|    PitchSpeed    |   float    | 俯仰转动速度 |                1                |  -   |
|     YawSpeed     |   float    | 偏航转动速度 |                1                |  -   |
|    RollSpeed     |   float    | 滚转转动速度 |                1                |  -   |
|    LiftSpeed     |   float    |   升力系数   |                1                |  -   |
| EngineStartSound | SoundEvent | 引擎启动音效 | "minecraft:intentionally_empty" |  -   |

**固定翼飞机引擎**数据：（继承自直升机引擎）

|     数据名      |  类型   |      说明      | 默认值 | 示例 |
| :-------------: | :-----: | :------------: | :----: | :--: |
|    SpeedRate    |  float  |  飞行速度比例  |   1    |  -   |
|     HasGear     | boolean | 是否拥有起落架 |  true  |  -   |
| GearRotateAngle |  float  | 起落架旋转角度 |   85   |  -   |

如果载具有起落架，则会在左下角渲染起落架状态HUD。

**Tom6引擎**数据与固定翼飞机引擎一致，但是不受起落架数据影响。



此外车喇叭功能不是所有载具自带的，需要用代码自行添加。

------

##### 位置与旋转

又是一个很抽象的地方，当你不能理解的时候就去查看本体的源代码和数据。

|                数据名                 |  类型  |                       说明                       |   默认值    | 示例 |
| :-----------------------------------: | :----: | :----------------------------------------------: | :---------: | :--: |
|         ThirdPersonCameraPos          |  Vec3  | 第三人称视角位置，<br />实际渲染时是倒过来排列的 |  [0, 1, 3]  |  -   |
|          RotateOffsetHeight           | float  |                载具旋转中心的高度                |      0      |  -   |
|               TurretPos               |  Vec3  |                   主武器的坐标                   |    null     |  -   |
|            TurretTurnSpeed            |  Vec2  |                  主武器旋转速度                  |   [5, 5]    |  -   |
|            TurretYawRange             |  Vec2  |                 主武器偏航角范围                 | [-514, 514] |  -   |
|           TurretPitchRange            |  Vec2  |                 主武器俯仰角范围                 |  [-10, 30]  |  -   |
|         TurretControllerIndex         |  int   |               主武器操控者的座位号               |      0      |  -   |
|                HudType                | String |                载具武器的HUD类型                 |  "@Empty"   |  -   |
|               BarrelPos               |  Vec3  |                  载具炮管的位置                  |  [0, 0, 0]  |  -   |
|       PassengerWeaponStationPos       |  Vec3  |                 乘客武器站的位置                 |    null     |  -   |
|    PassengerWeaponStationBarrelPos    |  Vec3  |               乘客武器站炮管的位置               |  [0, 0, 0]  |  -   |
|    PassengerWeaponStationTurnSpeed    |  Vec2  |                乘客武器站旋转速度                |   [5, 5]    |  -   |
|    PassengerWeaponStationYawRange     |  Vec2  |               乘客武器站偏航角范围               | [-514, 514] |  -   |
|   PassengerWeaponStationPitchRange    |  Vec2  |               乘客武器站俯仰角范围               |  [-10, 30]  |  -   |
| PassengerWeaponStationControllerIndex |  int   |             乘客武器站操控者的座位号             |      1      |  -   |

这些数据是用来调整载具主武器、副武器的发射角度、发射位置的，具体例子请自行查阅模组中的数据。

------

##### 碰撞破坏

|     数据名     |      类型      |          说明          | 默认值 | 示例 |
| :------------: | :------------: | :--------------------: | :----: | :--: |
| CollisionLevel | CollisionLevel | 载具碰撞破坏方块的数据 |   -    | 见下 |

CollisionLevel是一个复杂数据类型，属性如下：

|   数据名    |     类型      |            说明            | 默认值 | 示例 |
| :---------: | :-----------: | :------------------------: | :----: | :--: |
|    Level    |      int      | 载具碰撞破坏方块的强度等级 |   2    |  -   |
| PowerLimits | List\<Limit\> | 开启对应等级破坏效果的要求 |   []   | 见下 |

载具破坏方块的等级分为5档：

- 0 不会破坏方块
- 1 只能破坏软的方块，需要开启对应的配置项
- 2 能破坏普通的方块，需要开启对应的配置项
- 3 能破坏较硬的方块，需要开启对应的配置项
- 4 野兽撞击模式，能破坏一定硬度以下的任何方块，需要开启对应的配置项

能否被破坏的方块受方块标签控制，位于：

```
data/superbwarfare/tags/blocks/soft_collision.json
data/superbwarfare/tags/blocks/normal_collision.json
data/superbwarfare/tags/blocks/hard_collision.json
```

允许的破坏等级受服务端配置控制，也可以使用指令调整：

```
/sbw config collisionDestroy none|soft|normal|hard|beastly
```

Limit的写法和Vec3是类似的，只不过属性为：

```json
[功率要求, 动量要求, 是否取等]
```

以YX-100主战坦克的破坏效果为例：

```json
"CollisionLevel": {
    "Level": 4,
    "PowerLimits": [
      [0, 0, true],
      [0, 0, true],
      [0.1, 0.05, false],
      [1, 0.3, false]
    ]
}
```

意思是该载具的破坏等级为4级，前两级在任何情况下都能触发，对于碰撞等级要求为3的方块，需要功率大于0.1，或动量大于0.05时，才能破坏。等级4同理。

------

##### 地形适应

|         数据名          |     类型     |            说明             | 默认值 | 示例 |
| :---------------------: | :----------: | :-------------------------: | :----: | :--: |
|      TerrainCompat      | List\<Vec3\> | 用于检测地面高度的N个点坐标 |  null  | 见下 |
| TerrainCompatRotateRate |    float     |   载具地形适应的旋转幅度    |   1    |  -   |
|    InertiaRotateRate    |    float     |  载具受惯性影响的旋转幅度   |   0    |  -   |

地形适应就是选取以载具中心为原点的几个坐标点，最终算出一个平均的旋转角度。

示例如下：

```json
"TerrainCompat": [
    [1.1875, 0, 3.1875],
    [-1.1875, 0, 3.1875],
    [1.1875, 0, -1.0625],
    [-1.1875, 0, -1.0625]
]
```

当然写多少个坐标都是可以的。

------

##### 其他数据

|           数据名            |    类型     |                         说明                         | 默认值  | 示例 |
| :-------------------------: | :---------: | :--------------------------------------------------: | :-----: | :--: |
| UsePassengerCreativeAmmoBox |   boolean   | 载具武器读取弹药时是否会读取乘客身上的创造模式弹药盒 |  true   |  -   |
|     HasLowHealthWarning     |   boolean   |             载具是否会在低血量时发出警告             |  true   |  -   |
|            Type             | VehicleType |                      载具的类型                      | "Empty" | 见下 |

VehicleType是一个枚举类型，分为以下几种：

- "Empty" 空类型，默认
- "Tank" 坦克
- "APC" 装甲运兵车
- "AA" 防空车
- "Airplane" 固定翼飞机
- "Helicopter" 直升机
- "Car" 普通车辆
- "Artillery" 火炮
- "Defense" 防御塔
- "Boat" 船
- "Drone" 无人机
- "Special" 特殊载具



### （四）资源文件

哼哼啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊

